{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/sus/frontend/storage/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY;\n\nif (!supabaseAnonKey || !supabaseUrl){\n    throw new Error (\"Missing Supabase environment variables\");\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/sus/frontend/storage/components/FileUploader.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { supabase } from \"../lib/supabaseClient\"; // relative import\n\ntype Props = {\n  bucket: string;\n};\n\nexport default function FileUploader({ bucket }: Props) {\n  const [file, setFile] = useState<File | null>(null);\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n  const [signedUrl, setSignedUrl] = useState<string | null>(null);\n\n  const uploadFile = async () => {\n    if (!file) return;\n\n    setUploading(true);\n    setMessage(null);\n    setSignedUrl(null);\n\n    // create a unique file name\n    const filePath = `${Date.now()}-${file.name}`;\n\n    // Upload to private bucket\n    const { error } = await supabase.storage\n      .from(bucket)\n      .upload(filePath, file);\n\n    if (error) {\n      setMessage(`❌ Upload failed: ${error.message}`);\n      setUploading(false);\n      return;\n    }\n\n    setMessage(\"✅ File uploaded successfully!\");\n\n    // Generate a signed URL (valid 60 seconds)\n    const { data, error: urlError } = await supabase.storage\n      .from(bucket)\n      .createSignedUrl(filePath, 60);\n\n    if (urlError) {\n      setMessage(`❌ Signed URL error: ${urlError.message}`);\n    } else {\n      setSignedUrl(data.signedUrl);\n    }\n\n    setUploading(false);\n  };\n\n  return (\n    <div style={{ border: \"1px solid #ccc\", padding: \"1rem\", width: 350 }}>\n      <input\n        type=\"file\"\n        onChange={(e) => setFile(e.target.files?.[0] ?? null)}\n      />\n\n      <button\n        onClick={uploadFile}\n        disabled={!file || uploading}\n        style={{ marginTop: \"0.5rem\" }}\n      >\n        {uploading ? \"Uploading...\" : \"Upload\"}\n      </button>\n\n      {message && <p style={{ marginTop: \"0.5rem\" }}>{message}</p>}\n\n      {signedUrl && (\n        <div style={{ marginTop: \"0.5rem\" }}>\n          <p>Preview URL (expires in 60s):</p>\n          <a href={signedUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n            Open File\n          </a>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA,wOAAkD,kBAAkB;;;AAHpE;;;AASe,SAAS,aAAa,EAAE,MAAM,EAAS;;IACpD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAgB;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAgB;IAE1D,MAAM,aAAa;QACjB,IAAI,CAAC,MAAM;QAEX,aAAa;QACb,WAAW;QACX,aAAa;QAEb,4BAA4B;QAC5B,MAAM,WAAW,GAAG,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,IAAI,EAAE;QAE7C,2BAA2B;QAC3B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,+IAAQ,CAAC,OAAO,CACrC,IAAI,CAAC,QACL,MAAM,CAAC,UAAU;QAEpB,IAAI,OAAO;YACT,WAAW,CAAC,iBAAiB,EAAE,MAAM,OAAO,EAAE;YAC9C,aAAa;YACb;QACF;QAEA,WAAW;QAEX,2CAA2C;QAC3C,MAAM,EAAE,IAAI,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,+IAAQ,CAAC,OAAO,CACrD,IAAI,CAAC,QACL,eAAe,CAAC,UAAU;QAE7B,IAAI,UAAU;YACZ,WAAW,CAAC,oBAAoB,EAAE,SAAS,OAAO,EAAE;QACtD,OAAO;YACL,aAAa,KAAK,SAAS;QAC7B;QAEA,aAAa;IACf;IAEA,qBACE,6LAAC;QAAI,OAAO;YAAE,QAAQ;YAAkB,SAAS;YAAQ,OAAO;QAAI;;0BAClE,6LAAC;gBACC,MAAK;gBACL,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;;;;;;0BAGlD,6LAAC;gBACC,SAAS;gBACT,UAAU,CAAC,QAAQ;gBACnB,OAAO;oBAAE,WAAW;gBAAS;0BAE5B,YAAY,iBAAiB;;;;;;YAG/B,yBAAW,6LAAC;gBAAE,OAAO;oBAAE,WAAW;gBAAS;0BAAI;;;;;;YAE/C,2BACC,6LAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAS;;kCAChC,6LAAC;kCAAE;;;;;;kCACH,6LAAC;wBAAE,MAAM;wBAAW,QAAO;wBAAS,KAAI;kCAAsB;;;;;;;;;;;;;;;;;;AAOxE;GAtEwB;KAAA"}}]
}