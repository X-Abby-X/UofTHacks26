{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/abby/Desktop/UofTHacks26/frontend/app/ui/GradeGauge.tsx"],"sourcesContent":["'use client';\n// import { motion } from 'motion/react';\nimport { motion } from 'framer-motion';\nimport { PieChart, Pie, Cell } from 'recharts';\n\ninterface UpcomingWeight {\n  name: string;\n  weight: number;\n  color: string;\n}\n\nconst upcomingWeights: UpcomingWeight[] = [\n  { name: 'Midterm 2', weight: 25, color: '#8B5CF6' },\n  { name: 'Final Exam', weight: 40, color: '#F59E0B' },\n  { name: 'Project', weight: 15, color: '#10B981' },\n];\n\nexport function GradeGauge({ currentGrade }: { currentGrade: number }) {\n\n  const data = [\n    { name: 'Current', value: currentGrade },\n    { name: 'Remaining', value: 100 - currentGrade },\n  ];\n\n  return (\n    <div className=\"relative flex items-center justify-center py-12\">\n      {/* Orbital Ring with Nodes */}\n      <div className=\"absolute inset-0 flex items-center justify-center\">\n        <svg width=\"500\" height=\"500\" viewBox=\"0 0 500 500\" className=\"absolute\">\n          {/* Dotted orbit circle */}\n          <motion.circle\n            cx=\"250\"\n            cy=\"250\"\n            r=\"200\"\n            fill=\"none\"\n            stroke=\"#8B5CF6\"\n            strokeWidth=\"2\"\n            strokeDasharray=\"8 12\"\n            opacity=\"0.4\"\n            initial={{ rotate: 0 }}\n            animate={{ rotate: 360 }}\n            transition={{ duration: 60, repeat: Infinity, ease: 'linear' }}\n            style={{ transformOrigin: '250px 250px' }}\n          />\n        </svg>\n\n        {/* Orbital Nodes */}\n        {upcomingWeights.map((weight, idx) => {\n          const angle = (idx * 360) / upcomingWeights.length;\n          const radian = (angle * Math.PI) / 180;\n          const x = 250 + 200 * Math.cos(radian - Math.PI / 2);\n          const y = 250 + 200 * Math.sin(radian - Math.PI / 2);\n\n          return (\n            <motion.div\n              key={weight.name}\n              className=\"absolute\"\n              style={{\n                left: `${x}px`,\n                top: `${y}px`,\n                transform: 'translate(-50%, -50%)',\n              }}\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              transition={{ delay: idx * 0.2, type: 'spring' }}\n            >\n              <motion.div\n                className=\"relative group cursor-pointer\"\n                whileHover={{ scale: 1.2, rotate: 5 }}\n              >\n                {/* Glowing node */}\n                <div\n                  className=\"w-4 h-4 rounded-full\"\n                  style={{\n                    backgroundColor: weight.color,\n                    boxShadow: `0 0 20px ${weight.color}`,\n                  }}\n                />\n                {/* Tooltip */}\n                <div\n                  className=\"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap\"\n                  style={{\n                    background: 'rgba(0, 32, 78, 0.95)',\n                    backdropFilter: 'blur(12px)',\n                    border: `1px solid ${weight.color}`,\n                    boxShadow: `0 0 10px ${weight.color}`,\n                  }}\n                >\n                  <div className=\"px-3 py-2 text-xs\">\n                    <div className=\"font-bold\" style={{ color: weight.color }}>\n                      {weight.name}\n                    </div>\n                    <div className=\"text-white/70\">{weight.weight}%</div>\n                  </div>\n                </div>\n              </motion.div>\n            </motion.div>\n          );\n        })}\n      </div>\n\n      {/* Central Gauge */}\n      <motion.div\n        className=\"relative z-10\"\n        initial={{ scale: 0, rotate: -180 }}\n        animate={{ scale: 1, rotate: 0 }}\n        transition={{ type: 'spring', stiffness: 100, damping: 15 }}\n      >\n        <div\n          className=\"relative rounded-full p-8\"\n          style={{\n            background: 'rgba(0, 32, 78, 0.6)',\n            backdropFilter: 'blur(20px)',\n            border: '1px solid rgba(139, 92, 246, 0.5)',\n            boxShadow: '0 0 40px rgba(139, 92, 246, 0.3), inset 0 0 20px rgba(139, 92, 246, 0.1)',\n          }}\n        >\n          <PieChart width={280} height={280}>\n            <Pie\n              data={data}\n              cx={140}\n              cy={140}\n              startAngle={90}\n              endAngle={450}\n              innerRadius={90}\n              outerRadius={130}\n              dataKey=\"value\"\n              strokeWidth={0}\n            >\n              <Cell fill=\"#10B981\" />\n              <Cell fill=\"rgba(255,255,255,0.1)\" />\n            </Pie>\n          </PieChart>\n\n          {/* Center Grade Display */}\n          <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n            <motion.div\n              className=\"text-7xl font-black tracking-tighter\"\n              style={{\n                background: 'linear-gradient(135deg, #10B981 0%, #8B5CF6 100%)',\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                backgroundClip: 'text',\n              }}\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.5 }}\n            >\n              {currentGrade}%\n            </motion.div>\n            <motion.div\n              className=\"text-xs uppercase tracking-[0.3em] mt-2\"\n              style={{ color: '#10B981' }}\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.7 }}\n            >\n              Current Grade\n            </motion.div>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Vital Signs Header */}\n      <motion.div\n        className=\"absolute top-0 left-0\"\n        initial={{ opacity: 0, x: -20 }}\n        animate={{ opacity: 1, x: 0 }}\n        transition={{ delay: 0.3 }}\n      >\n        <div className=\"text-2xl font-black uppercase tracking-wider\" style={{ color: '#8B5CF6' }}>\n          <span className=\"inline-block w-3 h-3 rounded-full bg-[#10B981] mr-3 animate-pulse\" style={{ boxShadow: '0 0 10px #10B981' }} />\n          Vital Signs\n        </div>\n      </motion.div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///Users/abby/Desktop/UofTHacks26/frontend/app/ui/ProphetSidebar.tsx"],"sourcesContent":["'use client';\n\n// import { motion, AnimatePresence } from 'motion/react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Sparkles, CheckCircle2, Circle, Fingerprint, Activity, Target, Zap, ShieldCheck } from 'lucide-react';\nimport { useState } from 'react';\n\ninterface Milestone {\n  name: string;\n  weight: number;\n  score?: number;\n  date?: string;\n}\n\ninterface ProphetSidebarProps {\n  milestones: Milestone[];\n  currentGrade: number;\n  archetype?: string;\n  insight?: string;\n}\n\nexport function ProphetSidebar({\n  milestones,\n  currentGrade,\n  archetype = \"Visionary Architect\",\n  insight = \"Your conceptual grasp is elite, but technical precision is your final frontier.\"\n}: ProphetSidebarProps) {\n  const [targetGPA, setTargetGPA] = useState(3.7);\n  const hasData = milestones && milestones.length > 0;\n\n  // Logic to determine required grade based on UofT scale approximation\n  const targetPercentage = Math.round(((targetGPA - 1) / 3) * 100);\n\n  const calculateProjectedGrade = () => {\n    const achievedWeight = milestones\n      .filter((m) => m.score !== undefined)\n      .reduce((sum, m) => sum + m.weight, 0);\n\n    const achievedPoints = milestones\n      .filter((m) => m.score !== undefined)\n      .reduce((sum, m) => sum + (m.score! * (m.weight / 100)), 0);\n\n    const remainingWeight = 100 - achievedWeight;\n\n    if (achievedWeight === 0) return currentGrade > 0 ? currentGrade : 0;\n    return Math.round(achievedPoints + (currentGrade * (remainingWeight / 100)));\n  };\n\n  const projectedGrade = calculateProjectedGrade();\n\n  // IDENTITY SIGNAL: Are we meeting the resonance threshold?\n  const isOnTrack = projectedGrade >= targetPercentage;\n\n  return (\n    <div\n      className=\"h-full p-6 overflow-y-auto relative border-l border-white/10\"\n      style={{ background: 'rgba(5, 10, 25, 0.95)', backdropFilter: 'blur(40px)' }}\n    >\n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <div className=\"w-12 h-12 rounded-xl flex items-center justify-center relative overflow-hidden bg-gradient-to-br from-[#8B5CF6] to-[#EC4899]\">\n            <Fingerprint className=\"w-6 h-6 text-white relative z-10\" />\n            {isOnTrack && (\n              <motion.div\n                className=\"absolute inset-0 bg-white/20\"\n                animate={{ opacity: [0, 1, 0] }}\n                transition={{ duration: 1.5, repeat: Infinity }}\n              />\n            )}\n          </div>\n          <div>\n            <h2 className=\"text-xl font-black uppercase tracking-tighter text-white\">Academic Persona</h2>\n            <div className={`text-[10px] uppercase tracking-[0.2em] font-bold ${isOnTrack ? 'text-emerald-400' : 'text-[#EC4899]'}`}>\n              {isOnTrack ? 'Signal Harmonized' : 'Identity Alignment'}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <AnimatePresence mode=\"wait\">\n        {!hasData ? (\n          <div className=\"py-20 text-center text-white/20 uppercase tracking-widest text-xs\">Awaiting Signal</div>\n        ) : (\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"space-y-6\">\n\n            {/* 1. Flashy Status Signal */}\n            <motion.div\n              animate={isOnTrack ? { scale: [1, 1.02, 1] } : {}}\n              transition={{ duration: 2, repeat: Infinity }}\n              className={`p-4 rounded-2xl border-2 transition-all duration-500 ${isOnTrack\n                  ? 'bg-emerald-500/10 border-emerald-500/50 shadow-[0_0_20px_rgba(16,185,129,0.2)]'\n                  : 'bg-[#8B5CF6]/10 border-[#8B5CF6]/30'\n                }`}\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  {isOnTrack ? <ShieldCheck className=\"w-5 h-5 text-emerald-400\" /> : <Activity className=\"w-5 h-5 text-[#8B5CF6]\" />}\n                  <div>\n                    <h3 className={`text-[10px] font-black uppercase tracking-widest ${isOnTrack ? 'text-emerald-400' : 'text-[#8B5CF6]'}`}>\n                      {isOnTrack ? 'Identity Resonating' : 'Archetype Status'}\n                    </h3>\n                    <p className=\"text-sm font-bold text-white\">{archetype}</p>\n                  </div>\n                </div>\n                {isOnTrack && <Zap className=\"w-4 h-4 text-emerald-400 animate-pulse\" />}\n              </div>\n            </motion.div>\n\n            {/* 2. Target GPA Slider */}\n            <div className=\"p-5 rounded-2xl border border-white/10 bg-white/5 relative overflow-hidden\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"flex items-center gap-2\">\n                  <Target className=\"w-4 h-4 text-[#EC4899]\" />\n                  <span className=\"text-xs uppercase tracking-wider text-white/60 font-bold\">Target GPA</span>\n                </div>\n                <span className={`text-2xl font-black transition-colors ${isOnTrack ? 'text-emerald-400' : 'text-white'}`}>\n                  {targetGPA.toFixed(1)}\n                </span>\n              </div>\n              <input\n                type=\"range\"\n                min=\"2.0\"\n                max=\"4.0\"\n                step=\"0.1\"\n                value={targetGPA}\n                onChange={(e) => setTargetGPA(parseFloat(e.target.value))}\n                className=\"w-full h-1.5 rounded-full appearance-none bg-white/10 accent-[#EC4899] cursor-pointer\"\n              />\n              <div className=\"text-[9px] text-white/40 mt-3 font-mono italic\">\n                Requires â‰ˆ {targetPercentage}% resonance\n              </div>\n\n              {isOnTrack && (\n                <motion.div\n                  className=\"absolute bottom-0 left-0 h-[2px] bg-emerald-400\"\n                  initial={{ width: 0 }}\n                  animate={{ width: '100%' }}\n                />\n              )}\n            </div>\n\n            {/* 3. Identity Resonance (Frequency) */}\n            <div className={`p-5 rounded-2xl border transition-colors duration-500 ${isOnTrack ? 'border-emerald-500/30 bg-emerald-500/5' : 'border-[#EC4899]/30 bg-[#EC4899]/5'}`}>\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className={`text-xs uppercase tracking-wider font-bold flex items-center gap-2 ${isOnTrack ? 'text-emerald-400' : 'text-white/60'}`}>\n                  <Sparkles className=\"w-3 h-3\" /> {isOnTrack ? 'Full Resonance' : 'Identity Resonance'}\n                </span>\n                <span className={`text-[10px] font-black ${isOnTrack ? 'text-emerald-400' : 'text-[#EC4899]'}`}>{projectedGrade}%</span>\n              </div>\n              <div className=\"flex items-end gap-1 h-12\">\n                {[...Array(12)].map((_, i) => (\n                  <motion.div\n                    key={i}\n                    className={`flex-1 rounded-t-sm ${isOnTrack ? 'bg-emerald-400/40' : 'bg-[#EC4899]/20'}`}\n                    animate={{ height: isOnTrack ? [`${40 + Math.random() * 60}%`, `${70 + Math.random() * 30}%`] : [`${20 + Math.random() * 60}%`, `${40 + Math.random() * 50}%`] }}\n                    transition={{ duration: isOnTrack ? 0.5 : 1.5, repeat: Infinity, ease: \"easeInOut\", delay: i * 0.05 }}\n                  />\n                ))}\n              </div>\n            </div>\n\n            {/* 4. Chronicle of Growth */}\n            <div className=\"space-y-4\">\n              <span className=\"text-[10px] uppercase tracking-[0.2em] text-white/30 font-black\">Growth Chronicle</span>\n              {milestones.map((m, idx) => (\n                <div key={idx} className=\"flex justify-between items-center p-3 rounded-xl bg-white/[0.02] border border-white/5\">\n                  <span className=\"text-[11px] font-bold text-white/70\">{m.name}</span>\n                  <span className={`text-xs font-black ${m.score !== undefined ? 'text-emerald-400' : 'text-white/10'}`}>\n                    {m.score !== undefined ? `${m.score}%` : `${m.weight}%`}\n                  </span>\n                </div>\n              ))}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 832, "column": 0}, "map": {"version":3,"sources":["file:///Users/abby/Desktop/UofTHacks26/frontend/app/ui/AICard.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport { AlertCircle, Lightbulb, Hash, Zap } from \"lucide-react\";\n\ninterface AICardProps {\n  questionNumber: number | string;\n  detectedMistake: string;\n  aiTip: string;\n  unitId: string;\n  delay?: number;\n}\n\nexport const AICard = ({\n  questionNumber,\n  detectedMistake,\n  aiTip,\n  unitId,\n  delay = 0\n}: AICardProps) => {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.4, delay }}\n      className=\"relative group w-full\"\n    >\n      {/* Main Card Body */}\n      <div className=\"relative p-8 rounded-[2.5rem] bg-white/[0.02] border border-white/10 backdrop-blur-xl transition-all duration-300 group-hover:border-[#8B5CF6]/40 group-hover:bg-white/[0.04]\">\n\n        {/* Header Section */}\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"p-3 bg-[#8B5CF6]/10 rounded-2xl border border-[#8B5CF6]/20\">\n              <Hash className=\"w-5 h-5 text-[#8B5CF6]\" />\n            </div>\n            <div>\n              <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-white/20\">Telemetry Detail</span>\n              <h4 className=\"text-2xl font-black uppercase tracking-tighter\">Question {questionNumber}</h4>\n            </div>\n          </div>\n\n          <div className=\"px-4 py-1.5 rounded-full bg-white/5 border border-white/10\">\n            <span className=\"text-[10px] font-mono font-bold text-white/40 tracking-widest uppercase\">\n              Unit: {unitId}\n            </span>\n          </div>\n        </div>\n\n        {/* Content Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n          {/* Error Detection */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-2 text-rose-400\">\n              <AlertCircle className=\"w-4 h-4\" />\n              <span className=\"text-[10px] font-black uppercase tracking-widest\">Anomaly Detected</span>\n            </div>\n            <div className=\"p-5 rounded-2xl bg-rose-500/5 border border-rose-500/10\">\n              <p className=\"text-sm text-white/70 leading-relaxed italic\">\n                \"{detectedMistake}\"\n              </p>\n            </div>\n          </div>\n\n          {/* AI Logic / Study Tip */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-2 text-[#D946EF]\">\n              <Lightbulb className=\"w-4 h-4\" />\n              <span className=\"text-[10px] font-black uppercase tracking-widest\">Neural Guidance</span>\n            </div>\n            <div className=\"p-5 rounded-2xl bg-[#D946EF]/5 border border-[#D946EF]/10\">\n              <p className=\"text-sm text-white/70 leading-relaxed\">\n                {aiTip}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Bottom Aura Bar */}\n        <div className=\"absolute bottom-0 left-1/2 -translate-x-1/2 w-1/2 h-[1px] bg-gradient-to-r from-transparent via-[#8B5CF6]/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500\" />\n      </div>\n    </motion.div>\n  );\n};\n\n// 'use client';\n// import { motion, useMotionValue, useTransform } from 'motion/react';\n// import { Brain, AlertCircle, Lightbulb } from 'lucide-react';\n// import { useState, useRef } from 'react';\n\n// interface AICardProps {\n//   questionNumber: number;\n//   detectedMistake: string;\n//   aiTip: string;\n//   unitId: string;\n//   delay?: number;\n// }\n\n// export function AICard({ questionNumber, detectedMistake, aiTip, unitId, delay = 0 }: AICardProps) {\n//   const [revealed, setRevealed] = useState(false);\n//   const cardRef = useRef<HTMLDivElement>(null);\n\n//   // 3D tilt effect\n//   const x = useMotionValue(0);\n//   const y = useMotionValue(0);\n\n//   const rotateX = useTransform(y, [-100, 100], [10, -10]);\n//   const rotateY = useTransform(x, [-100, 100], [-10, 10]);\n\n//   const handleMouseMove = (event: React.MouseEvent<HTMLDivElement>) => {\n//     if (!cardRef.current) return;\n//     const rect = cardRef.current.getBoundingClientRect();\n//     const centerX = rect.left + rect.width / 2;\n//     const centerY = rect.top + rect.height / 2;\n//     x.set(event.clientX - centerX);\n//     y.set(event.clientY - centerY);\n//   };\n\n//   const handleMouseLeave = () => {\n//     x.set(0);\n//     y.set(0);\n//   };\n\n//   return (\n//     <motion.div\n//       ref={cardRef}\n//       className=\"relative group\"\n//       initial={{ opacity: 0, y: 20 }}\n//       animate={{ opacity: 1, y: 0 }}\n//       transition={{ delay }}\n//       onMouseMove={handleMouseMove}\n//       onMouseLeave={handleMouseLeave}\n//       style={{\n//         rotateX,\n//         rotateY,\n//         transformStyle: 'preserve-3d',\n//       }}\n//       whileHover={{ scale: 1.02 }}\n//     >\n//       {/* Rotating conic border effect */}\n//       <div className=\"absolute -inset-0.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500\">\n//         <motion.div\n//           className=\"absolute inset-0 rounded-lg\"\n//           style={{\n//             background: 'conic-gradient(from 0deg, #8B5CF6, #10B981, #F59E0B, #8B5CF6)',\n//           }}\n//           animate={{ rotate: 360 }}\n//           transition={{ duration: 3, repeat: Infinity, ease: 'linear' }}\n//         />\n//       </div>\n\n//       {/* Card Content */}\n//       <div\n//         className=\"relative rounded-lg p-6\"\n//         style={{\n//           background: 'rgba(0, 32, 78, 0.85)',\n//           backdropFilter: 'blur(24px)',\n//           border: '1px solid rgba(139, 92, 246, 0.4)',\n//           boxShadow: '0 10px 40px rgba(0, 0, 0, 0.5), inset 0 0 20px rgba(139, 92, 246, 0.1)',\n//         }}\n//       >\n//         {/* Question Badge */}\n//         <div className=\"flex items-start justify-between mb-4\">\n//           <motion.div\n//             className=\"px-4 py-2 rounded-md font-black text-sm uppercase tracking-wider relative overflow-hidden\"\n//             style={{\n//               background: 'linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)',\n//               boxShadow: '0 0 25px rgba(139, 92, 246, 0.6), 5px 5px 0 rgba(139, 92, 246, 0.35)',\n//             }}\n//             whileHover={{ scale: 1.05 }}\n//           >\n//             <span className=\"relative z-10\">Question #{questionNumber}</span>\n//             {/* Shimmer on badge */}\n//             <motion.div\n//               className=\"absolute inset-0\"\n//               style={{\n//                 background: 'linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)',\n//               }}\n//               animate={{\n//                 x: ['-100%', '200%'],\n//               }}\n//               transition={{\n//                 duration: 2,\n//                 repeat: Infinity,\n//                 ease: 'linear',\n//                 delay: delay,\n//               }}\n//             />\n//           </motion.div>\n//           <div className=\"flex items-center gap-2\">\n//             <Brain className=\"w-5 h-5 text-[#8B5CF6]\" />\n//             <div className=\"text-xs text-white/40 uppercase tracking-wider\" style={{ fontFamily: 'monospace' }}>\n//               {unitId.toUpperCase()}\n//             </div>\n//           </div>\n//         </div>\n\n//         {/* Detected Mistake Section */}\n//         <div className=\"mb-4\">\n//           <div className=\"flex items-center gap-2 mb-2\">\n//             <AlertCircle className=\"w-4 h-4 text-[#EF4444]\" />\n//             <div className=\"text-xs uppercase tracking-wider text-[#EF4444] font-bold\">\n//               Detected Mistake\n//             </div>\n//           </div>\n//           <div\n//             className=\"relative p-4 rounded-md overflow-hidden cursor-pointer\"\n//             onClick={() => setRevealed(!revealed)}\n//             style={{\n//               background: 'rgba(239, 68, 68, 0.15)',\n//               border: '1px solid rgba(239, 68, 68, 0.4)',\n//             }}\n//           >\n//             {/* Blur-reveal overlay with animated redaction bars */}\n//             {!revealed && (\n//               <motion.div\n//                 className=\"absolute inset-0 flex items-center justify-center\"\n//                 initial={{ opacity: 1 }}\n//                 whileHover={{ opacity: 0.8 }}\n//               >\n//                 {/* Animated redaction bars */}\n//                 <div className=\"absolute inset-0 overflow-hidden\">\n//                   {[...Array(6)].map((_, i) => (\n//                     <motion.div\n//                       key={i}\n//                       className=\"absolute w-full h-3\"\n//                       style={{\n//                         top: `${10 + i * 15}%`,\n//                         background: 'rgba(239, 68, 68, 0.9)',\n//                         boxShadow: '0 0 10px rgba(239, 68, 68, 0.5)',\n//                       }}\n//                       initial={{ scaleX: 0.3 }}\n//                       animate={{\n//                         scaleX: [0.3, 0.95, 0.3],\n//                         opacity: [0.9, 1, 0.9],\n//                       }}\n//                       transition={{\n//                         duration: 2,\n//                         repeat: Infinity,\n//                         delay: i * 0.1,\n//                         ease: 'easeInOut',\n//                       }}\n//                     />\n//                   ))}\n//                 </div>\n//                 <div\n//                   className=\"relative z-10 px-4 py-2 rounded-md\"\n//                   style={{\n//                     background: 'rgba(0, 32, 78, 0.95)',\n//                     border: '1px solid #EF4444',\n//                   }}\n//                 >\n//                   <div className=\"text-white font-bold text-xs uppercase tracking-wider flex items-center gap-2\">\n//                     <motion.div\n//                       animate={{ opacity: [0.5, 1, 0.5] }}\n//                       transition={{ duration: 1.5, repeat: Infinity }}\n//                     >\n//                       ðŸ”’\n//                     </motion.div>\n//                     Click to Reveal\n//                   </div>\n//                 </div>\n//               </motion.div>\n//             )}\n//             <motion.div\n//               className=\"text-sm text-white/90 leading-relaxed\"\n//               animate={{\n//                 opacity: revealed ? 1 : 0,\n//                 filter: revealed ? 'blur(0px)' : 'blur(8px)',\n//               }}\n//               transition={{ duration: 0.5 }}\n//             >\n//               {detectedMistake}\n//             </motion.div>\n//           </div>\n//         </div>\n\n//         {/* AI Study Tip */}\n//         <motion.div\n//           initial={{ opacity: 0, height: 0 }}\n//           animate={{ opacity: 1, height: 'auto' }}\n//           transition={{ delay: delay + 0.3 }}\n//         >\n//           <div className=\"flex items-center gap-2 mb-2\">\n//             <Lightbulb className=\"w-4 h-4 text-[#10B981]\" />\n//             <div className=\"text-xs uppercase tracking-wider text-[#10B981] font-bold\">\n//               AI Study Tip\n//             </div>\n//           </div>\n//           <div\n//             className=\"relative p-4 rounded-md overflow-hidden\"\n//             style={{\n//               background: 'rgba(16, 185, 129, 0.15)',\n//               border: '2px solid #10B981',\n//               boxShadow: '0 0 20px rgba(16, 185, 129, 0.4), inset 0 0 20px rgba(16, 185, 129, 0.1)',\n//             }}\n//           >\n//             <div className=\"text-sm text-white/90 leading-relaxed relative z-10\">{aiTip}</div>\n//             {/* Neon bloom effect */}\n//             <motion.div\n//               className=\"absolute -top-10 -right-10 w-24 h-24 rounded-full\"\n//               style={{\n//                 background: 'radial-gradient(circle, rgba(16, 185, 129, 0.4) 0%, transparent 70%)',\n//                 filter: 'blur(20px)',\n//               }}\n//               animate={{\n//                 scale: [1, 1.2, 1],\n//                 opacity: [0.3, 0.5, 0.3],\n//               }}\n//               transition={{\n//                 duration: 3,\n//                 repeat: Infinity,\n//                 ease: 'easeInOut',\n//               }}\n//             />\n//           </div>\n//         </motion.div>\n//       </div>\n//     </motion.div>\n//   );\n// }\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1303, "column": 0}, "map": {"version":3,"sources":["file:///Users/abby/Desktop/UofTHacks26/frontend/drizzle/db/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY;\n\nexport const createClient = () =>\n    createBrowserClient(\n        supabaseUrl!,\n        supabaseKey!,\n    );\n\nexport const supabase = createClient();"],"names":[],"mappings":";;;;;;AAEoB;AAFpB;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,eAAe,IACxB,IAAA,oMAAmB,EACf,aACA;AAGD,MAAM,WAAW"}},
    {"offset": {"line": 1324, "column": 0}, "map": {"version":3,"sources":["file:///Users/abby/Desktop/UofTHacks26/frontend/app/lib/actions.tsx"],"sourcesContent":["'use server'\n\nimport { db } from '../../drizzle/index';\nimport { courses, submissions } from '../../drizzle/db/schema';\nimport { eq } from 'drizzle-orm';\nimport { revalidatePath } from 'next/cache';\n\n/**\n * COURSE MANAGEMENT\n */\nexport async function createCourse(formData: FormData) {\n    const name = formData.get('courseName') as string;\n    await db.insert(courses).values({\n        name: name,\n        description: \"Course initialized for audit.\",\n        currentGrade: 0,\n        milestones: [],\n    });\n    revalidatePath('/');\n}\n\nexport async function deleteCourse(courseId: string) {\n    try {\n        await db.delete(courses).where(eq(courses.id, courseId));\n        revalidatePath('/');\n        return { success: true };\n    } catch (error) {\n        return { success: false };\n    }\n}\n\n/**\n * SYLLABUS AUTOMATION (The Roadmap)\n * Aligned with SyllabusRequest in api.py\n */\nexport async function processSyllabusAction(courseId: string, publicUrl: string) {\n    try {\n        const backendBase = process.env.BACKEND_URL || \"http://127.0.0.1:8000\";\n\n        const response = await fetch(`${backendBase}/process-syllabus`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                courseId: courseId,   //\n                syllabusUrl: publicUrl //\n            }),\n        });\n\n        if (!response.ok) throw new Error(\"Syllabus Audit Failed\");\n        const aiResult = await response.json();\n\n        // FIX: Only update milestones, explicitly reset grade to 0\n        await db.update(courses)\n            .set({\n                milestones: aiResult.milestones, //\n                currentGrade: 0, // Prevents accidental 82% during syllabus phase\n            })\n            .where(eq(courses.id, courseId));\n\n        // FOR VAULT\n        // 2. NEW: Log the Syllabus in the submissions table so it shows in the Vault\n        await db.insert(submissions).values({\n            courseId: courseId,\n            name: \"Official Course Syllabus\",\n            // We store the URL in a JSON field if you want easy access later\n            analysisReport: [{ type: \"syllabus\", url: publicUrl }]\n        });\n\n        revalidatePath(`/course/${courseId}`);\n        return { success: true };\n    } catch (error) {\n        console.error(\"Syllabus Error:\", error);\n        return { success: false, error: \"Sync Failed\" };\n    }\n}\n\n/**\n * SUBMISSION AUTOMATION (The Performance)\n * Aligned with AnalysisRequest in api.py\n */\nexport async function createSubmissionAction(courseId: string, pdfUrl: string) {\n    try {\n        const backendBase = process.env.BACKEND_URL || \"http://127.0.0.1:8000\";\n\n        // 1. Fetch current context for the weighted grade calculation\n        const course = await db.query.courses.findFirst({\n            where: eq(courses.id, courseId)\n        });\n\n        // 2. Trigger Midterm Analysis\n        const response = await fetch(`${backendBase}/analyze-submission`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                submissionUrl: pdfUrl, //\n                existingMilestones: course?.milestones || [] //\n            }),\n        });\n\n        if (!response.ok) throw new Error(\"Neural Analysis fetch failed\");\n        const auditResults = await response.json();\n\n        // 3. Update the Course (This sets the 82% Grade)\n        // Maps Python 'updated_current_grade' to DB 'currentGrade'\n        await db.update(courses)\n            .set({\n                currentGrade: Math.round(auditResults.updated_current_grade || 0), // Schema is integer\n                milestones: auditResults.full_history, //\n            })\n            .where(eq(courses.id, courseId));\n\n        // 4. Create the Submission Record (Stores KCL/Diode tips)\n        // Maps Python 'analysis_report' to DB 'analysisReport'\n        const [newRecord] = await db.insert(submissions).values({\n            courseId: courseId,\n            name: `Audit: ${new Date().toLocaleDateString()}`,\n            analysisReport: auditResults.analysis_report,\n        }).returning({ id: submissions.id });\n\n        revalidatePath(`/course/${courseId}`);\n        revalidatePath('/');\n\n        return { id: newRecord.id, success: true };\n    } catch (error) {\n        console.error(\"Submission Action Failure:\", error);\n        return { success: false, error: \"Database or API sync error\" };\n    }\n}\n\n/**\n * DATA RESET & MAINTENANCE\n */\nexport async function deleteSyllabusAction(courseId: string) {\n    try {\n        await db.update(courses)\n            .set({\n                milestones: null,\n                currentGrade: 0\n            })\n            .where(eq(courses.id, courseId));\n\n        revalidatePath(`/course/${courseId}`);\n        return { success: true };\n    } catch (error) {\n        return { success: false, error: \"Failed to reset sector\" };\n    }\n}\n\nexport async function deleteSubmissionAction(submissionId: string, courseId: string) {\n    await db.delete(submissions).where(eq(submissions.id, submissionId));\n    revalidatePath(`/course/${courseId}`);\n}\n\nexport async function purgeCourseTelemetry(courseId: string) {\n    await db.update(courses)\n        .set({\n            milestones: null,\n            currentGrade: 0\n        })\n        .where(eq(courses.id, courseId));\n\n    revalidatePath(`/course/${courseId}`);\n}"],"names":[],"mappings":";;;;;;;MAgFsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,0DAAA"}},
    {"offset": {"line": 1341, "column": 0}, "map": {"version":3,"sources":["file:///Users/abby/Desktop/UofTHacks26/frontend/app/ui/CreateSubmissionBtn.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Plus, Loader2, CheckCircle2 } from 'lucide-react';\nimport { supabase } from '@/drizzle/db/client';\n// FIX: Using createSubmissionAction\nimport { createSubmissionAction } from '@/app/lib/actions';\n\nexport default function CreateSubmissionBtn({ courseId, userId }: { courseId: string, userId: string }) {\n    const [status, setStatus] = useState<'idle' | 'syncing' | 'success'>('idle');\n\n    const handleInstantSubmission = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (!file) return;\n\n        setStatus('syncing');\n\n        try {\n            const fileName = `${userId}/${courseId}/submissions/${Date.now()}-${file.name}`;\n            const { error: uploadError } = await supabase.storage\n                .from('uofthacks-2026')\n                .upload(fileName, file);\n\n            if (uploadError) throw uploadError;\n\n            const { data: { publicUrl } } = supabase.storage\n                .from('uofthacks-2026')\n                .getPublicUrl(fileName);\n\n            // CALL: Correct action for performance audits\n            const result = await createSubmissionAction(courseId, publicUrl);\n\n            if (!result.success) throw new Error(result.error);\n\n            setStatus('success');\n            setTimeout(() => setStatus('idle'), 3000);\n        } catch (error) {\n            console.error(\"Submission Sync Error:\", error);\n            setStatus('idle');\n        }\n    };\n\n    return (\n        <label className=\"cursor-pointer\">\n            <input type=\"file\" className=\"hidden\" onChange={handleInstantSubmission} disabled={status === 'syncing'} />\n            <div className={`px-6 py-3 rounded-xl font-bold uppercase tracking-widest text-xs flex items-center gap-2 transition-all ${status === 'syncing' ? 'bg-[#8B5CF6]/50 cursor-wait' : 'bg-[#8B5CF6] hover:bg-[#7C3AED]'\n                }`}>\n                {status === 'syncing' ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Plus className=\"w-4 h-4\" />}\n                {status === 'syncing' ? \"Syncing Telemetry...\" : \"Create Submission\"}\n            </div>\n        </label>\n    );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA,oCAAoC;AACpC;;;AANA;;;;;AAQe,SAAS,oBAAoB,EAAE,QAAQ,EAAE,MAAM,EAAwC;;IAClG,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAiC;IAErE,MAAM,0BAA0B,OAAO;QACnC,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,UAAU;QAEV,IAAI;YACA,MAAM,WAAW,GAAG,OAAO,CAAC,EAAE,SAAS,aAAa,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,IAAI,EAAE;YAC/E,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,sIAAQ,CAAC,OAAO,CAChD,IAAI,CAAC,kBACL,MAAM,CAAC,UAAU;YAEtB,IAAI,aAAa,MAAM;YAEvB,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,GAAG,sIAAQ,CAAC,OAAO,CAC3C,IAAI,CAAC,kBACL,YAAY,CAAC;YAElB,8CAA8C;YAC9C,MAAM,SAAS,MAAM,IAAA,+KAAsB,EAAC,UAAU;YAEtD,IAAI,CAAC,OAAO,OAAO,EAAE,MAAM,IAAI,MAAM,OAAO,KAAK;YAEjD,UAAU;YACV,WAAW,IAAM,UAAU,SAAS;QACxC,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,UAAU;QACd;IACJ;IAEA,qBACI,6LAAC;QAAM,WAAU;;0BACb,6LAAC;gBAAM,MAAK;gBAAO,WAAU;gBAAS,UAAU;gBAAyB,UAAU,WAAW;;;;;;0BAC9F,6LAAC;gBAAI,WAAW,CAAC,wGAAwG,EAAE,WAAW,YAAY,gCAAgC,mCAC5K;;oBACD,WAAW,0BAAY,6LAAC,+NAAO;wBAAC,WAAU;;;;;6CAA4B,6LAAC,6MAAI;wBAAC,WAAU;;;;;;oBACtF,WAAW,YAAY,yBAAyB;;;;;;;;;;;;;AAIjE;GA5CwB;KAAA"}},
    {"offset": {"line": 1435, "column": 0}, "map": {"version":3,"sources":["file:///Users/abby/Desktop/UofTHacks26/frontend/app/lib/actions.tsx"],"sourcesContent":["'use server'\n\nimport { db } from '../../drizzle/index';\nimport { courses, submissions } from '../../drizzle/db/schema';\nimport { eq } from 'drizzle-orm';\nimport { revalidatePath } from 'next/cache';\n\n/**\n * COURSE MANAGEMENT\n */\nexport async function createCourse(formData: FormData) {\n    const name = formData.get('courseName') as string;\n    await db.insert(courses).values({\n        name: name,\n        description: \"Course initialized for audit.\",\n        currentGrade: 0,\n        milestones: [],\n    });\n    revalidatePath('/');\n}\n\nexport async function deleteCourse(courseId: string) {\n    try {\n        await db.delete(courses).where(eq(courses.id, courseId));\n        revalidatePath('/');\n        return { success: true };\n    } catch (error) {\n        return { success: false };\n    }\n}\n\n/**\n * SYLLABUS AUTOMATION (The Roadmap)\n * Aligned with SyllabusRequest in api.py\n */\nexport async function processSyllabusAction(courseId: string, publicUrl: string) {\n    try {\n        const backendBase = process.env.BACKEND_URL || \"http://127.0.0.1:8000\";\n\n        const response = await fetch(`${backendBase}/process-syllabus`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                courseId: courseId,   //\n                syllabusUrl: publicUrl //\n            }),\n        });\n\n        if (!response.ok) throw new Error(\"Syllabus Audit Failed\");\n        const aiResult = await response.json();\n\n        // FIX: Only update milestones, explicitly reset grade to 0\n        await db.update(courses)\n            .set({\n                milestones: aiResult.milestones, //\n                currentGrade: 0, // Prevents accidental 82% during syllabus phase\n            })\n            .where(eq(courses.id, courseId));\n\n        // FOR VAULT\n        // 2. NEW: Log the Syllabus in the submissions table so it shows in the Vault\n        await db.insert(submissions).values({\n            courseId: courseId,\n            name: \"Official Course Syllabus\",\n            // We store the URL in a JSON field if you want easy access later\n            analysisReport: [{ type: \"syllabus\", url: publicUrl }]\n        });\n\n        revalidatePath(`/course/${courseId}`);\n        return { success: true };\n    } catch (error) {\n        console.error(\"Syllabus Error:\", error);\n        return { success: false, error: \"Sync Failed\" };\n    }\n}\n\n/**\n * SUBMISSION AUTOMATION (The Performance)\n * Aligned with AnalysisRequest in api.py\n */\nexport async function createSubmissionAction(courseId: string, pdfUrl: string) {\n    try {\n        const backendBase = process.env.BACKEND_URL || \"http://127.0.0.1:8000\";\n\n        // 1. Fetch current context for the weighted grade calculation\n        const course = await db.query.courses.findFirst({\n            where: eq(courses.id, courseId)\n        });\n\n        // 2. Trigger Midterm Analysis\n        const response = await fetch(`${backendBase}/analyze-submission`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                submissionUrl: pdfUrl, //\n                existingMilestones: course?.milestones || [] //\n            }),\n        });\n\n        if (!response.ok) throw new Error(\"Neural Analysis fetch failed\");\n        const auditResults = await response.json();\n\n        // 3. Update the Course (This sets the 82% Grade)\n        // Maps Python 'updated_current_grade' to DB 'currentGrade'\n        await db.update(courses)\n            .set({\n                currentGrade: Math.round(auditResults.updated_current_grade || 0), // Schema is integer\n                milestones: auditResults.full_history, //\n            })\n            .where(eq(courses.id, courseId));\n\n        // 4. Create the Submission Record (Stores KCL/Diode tips)\n        // Maps Python 'analysis_report' to DB 'analysisReport'\n        const [newRecord] = await db.insert(submissions).values({\n            courseId: courseId,\n            name: `Audit: ${new Date().toLocaleDateString()}`,\n            analysisReport: auditResults.analysis_report,\n        }).returning({ id: submissions.id });\n\n        revalidatePath(`/course/${courseId}`);\n        revalidatePath('/');\n\n        return { id: newRecord.id, success: true };\n    } catch (error) {\n        console.error(\"Submission Action Failure:\", error);\n        return { success: false, error: \"Database or API sync error\" };\n    }\n}\n\n/**\n * DATA RESET & MAINTENANCE\n */\nexport async function deleteSyllabusAction(courseId: string) {\n    try {\n        await db.update(courses)\n            .set({\n                milestones: null,\n                currentGrade: 0\n            })\n            .where(eq(courses.id, courseId));\n\n        revalidatePath(`/course/${courseId}`);\n        return { success: true };\n    } catch (error) {\n        return { success: false, error: \"Failed to reset sector\" };\n    }\n}\n\nexport async function deleteSubmissionAction(submissionId: string, courseId: string) {\n    await db.delete(submissions).where(eq(submissions.id, submissionId));\n    revalidatePath(`/course/${courseId}`);\n}\n\nexport async function purgeCourseTelemetry(courseId: string) {\n    await db.update(courses)\n        .set({\n            milestones: null,\n            currentGrade: 0\n        })\n        .where(eq(courses.id, courseId));\n\n    revalidatePath(`/course/${courseId}`);\n}"],"names":[],"mappings":";;;;;;;MAoIsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,wDAAA"}},
    {"offset": {"line": 1452, "column": 0}, "map": {"version":3,"sources":["file:///Users/abby/Desktop/UofTHacks26/frontend/app/ui/DeleteSyllabusBtn.tsx"],"sourcesContent":["// frontend/app/ui/DeleteSyllabusBtn.tsx\n'use client';\n\nimport { useState } from 'react';\nimport { Trash2, RefreshCcw, Loader2 } from 'lucide-react';\nimport { deleteSyllabusAction } from '@/app/lib/actions';\n\nexport default function DeleteSyllabusBtn({ courseId }: { courseId: string }) {\n    const [isDeleting, setIsDeleting] = useState(false);\n    const [confirm, setConfirm] = useState(false);\n\n    const handleDelete = async () => {\n        if (!confirm) {\n            setConfirm(true);\n            setTimeout(() => setConfirm(false), 3000); // Reset after 3 seconds\n            return;\n        }\n\n        setIsDeleting(true);\n        try {\n            await deleteSyllabusAction(courseId);\n        } catch (err) {\n            alert(\"Failed to reset syllabus.\");\n        } finally {\n            setIsDeleting(false);\n            setConfirm(false);\n        }\n    };\n\n    return (\n        <button\n            onClick={handleDelete}\n            disabled={isDeleting}\n            className={`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${confirm\n                    ? 'bg-red-500 text-white animate-pulse'\n                    : 'bg-white/5 text-white/40 hover:bg-red-500/20 hover:text-red-400'\n                }`}\n        >\n            {isDeleting ? (\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n            ) : confirm ? (\n                <>Confirm Reset?</>\n            ) : (\n                <>\n                    <RefreshCcw className=\"w-4 h-4\" />\n                    Reset Syllabus\n                </>\n            )}\n        </button>\n    );\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AACA;;;AALA,wCAAwC;AACxC;;;;AAMe,SAAS,kBAAkB,EAAE,QAAQ,EAAwB;;IACxE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe;QACjB,IAAI,CAAC,SAAS;YACV,WAAW;YACX,WAAW,IAAM,WAAW,QAAQ,OAAO,wBAAwB;YACnE;QACJ;QAEA,cAAc;QACd,IAAI;YACA,MAAM,IAAA,6KAAoB,EAAC;QAC/B,EAAE,OAAO,KAAK;YACV,MAAM;QACV,SAAU;YACN,cAAc;YACd,WAAW;QACf;IACJ;IAEA,qBACI,6LAAC;QACG,SAAS;QACT,UAAU;QACV,WAAW,CAAC,yGAAyG,EAAE,UAC7G,wCACA,mEACJ;kBAEL,2BACG,6LAAC,+NAAO;YAAC,WAAU;;;;;mBACnB,wBACA;sBAAE;0CAEF;;8BACI,6LAAC,mOAAU;oBAAC,WAAU;;;;;;gBAAY;;;;;;;;AAMtD;GA3CwB;KAAA"}},
    {"offset": {"line": 1529, "column": 0}, "map": {"version":3,"sources":["file:///Users/abby/Desktop/UofTHacks26/frontend/app/ui/FileUploader.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { supabase } from \"@/drizzle/db/client\";\nimport { Upload, Loader2, CheckCircle2, AlertTriangle } from \"lucide-react\";\n\ntype Props = {\n    bucket: string;\n    userID: string;\n    courseID: string;\n    folder: \"student_submissions\" | \"syllabus_files\";\n    onSuccess?: (filePath: string) => Promise<void>;\n};\n\nexport default function FileUploader({ bucket, userID, courseID, folder, onSuccess }: Props) {\n    const [file, setFile] = useState<File | null>(null);\n    const [uploading, setUploading] = useState(false);\n    const [status, setStatus] = useState<{ type: 'success' | 'error', msg: string } | null>(null);\n\n    const handleUpload = async () => {\n        // Guard: Ensure identity and file are present\n        if (!file || !userID) {\n            setStatus({ type: 'error', msg: \"IDENTITY ERROR: Signature missing.\" });\n            return;\n        }\n\n        setUploading(true);\n        setStatus(null);\n\n        try {\n            const timestamp = Date.now();\n            // Clean filename for system compatibility\n            const safeName = file.name.replace(/[^a-zA-Z0-9.]/g, '_');\n\n            /**\n             * N3XU$ VAULT HIERARCHY\n             * Path: [user_id] / [course_id] / [folder_type] / [file]\n             */\n            const filePath = `${userID}/${courseID}/${folder}/${timestamp}-${safeName}`;\n\n            // 1. Transmit asset to Supabase Storage\n            const { error: uploadError } = await supabase.storage\n                .from(bucket)\n                .upload(filePath, file, {\n                    cacheControl: '3600',\n                    upsert: false\n                });\n\n            if (uploadError) throw uploadError;\n\n            // 2. Trigger Neural Audit (Server Action)\n            if (onSuccess) {\n                await onSuccess(filePath);\n            }\n\n            setStatus({ type: 'success', msg: \"TRANSMISSION SUCCESS: Sector Vaulted.\" });\n            setFile(null);\n\n        } catch (err: any) {\n            setStatus({ type: 'error', msg: `CRITICAL ERROR: ${err.message}` });\n        } finally {\n            setUploading(false);\n        }\n    };\n\n    return (\n        <div className=\"w-full max-w-md space-y-6\">\n            {/* Selection Interface */}\n            <div className=\"relative group\">\n                <input\n                    type=\"file\"\n                    className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-30\"\n                    onChange={(e) => setFile(e.target.files?.[0] ?? null)}\n                    disabled={uploading}\n                />\n                <div className={`p-8 rounded-[2rem] border-2 border-dashed transition-all duration-500 flex flex-col items-center justify-center gap-4 ${file\n                        ? 'bg-emerald-500/5 border-emerald-500/40'\n                        : 'bg-white/5 border-white/10 group-hover:border-[#8B5CF6]/40'\n                    }`}>\n                    <div className=\"p-4 rounded-2xl bg-white/5 border border-white/10\">\n                        <Upload className={`w-8 h-8 ${file ? 'text-emerald-400' : 'text-white/20'}`} />\n                    </div>\n                    <p className=\"text-[10px] font-black uppercase tracking-[0.3em] text-white/40\">\n                        {file ? file.name : \"Select Asset Payload\"}\n                    </p>\n                </div>\n            </div>\n\n            {/* Upload Trigger */}\n            <button\n                onClick={handleUpload}\n                disabled={!file || uploading}\n                className=\"w-full py-4 rounded-2xl bg-[#8B5CF6] text-white font-black uppercase tracking-[0.2em] text-[10px] shadow-lg shadow-[#8B5CF6]/20 transition-all hover:bg-[#7C3AED] disabled:opacity-20 flex items-center justify-center gap-3\"\n            >\n                {uploading ? (\n                    <>\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                        Syncing with Vault...\n                    </>\n                ) : \"Transmit to N3XU$ Vault\"}\n            </button>\n\n            {/* Status Indicators */}\n            {status && (\n                <div className={`p-3 rounded-xl border text-[10px] uppercase tracking-widest text-center flex items-center justify-center gap-2 ${status.type === 'success' ? 'bg-emerald-500/10 border-emerald-500/20 text-emerald-400' : 'bg-rose-500/10 border-rose-500/20 text-rose-400'\n                    }`}>\n                    {status.type === 'success' ? <CheckCircle2 className=\"w-3 h-3\" /> : <AlertTriangle className=\"w-3 h-3\" />}\n                    {status.msg}\n                </div>\n            )}\n        </div>\n    );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;;;AAJA;;;;AAce,SAAS,aAAa,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAS;;IACvF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAoD;IAExF,MAAM,eAAe;QACjB,8CAA8C;QAC9C,IAAI,CAAC,QAAQ,CAAC,QAAQ;YAClB,UAAU;gBAAE,MAAM;gBAAS,KAAK;YAAqC;YACrE;QACJ;QAEA,aAAa;QACb,UAAU;QAEV,IAAI;YACA,MAAM,YAAY,KAAK,GAAG;YAC1B,0CAA0C;YAC1C,MAAM,WAAW,KAAK,IAAI,CAAC,OAAO,CAAC,kBAAkB;YAErD;;;aAGC,GACD,MAAM,WAAW,GAAG,OAAO,CAAC,EAAE,SAAS,CAAC,EAAE,OAAO,CAAC,EAAE,UAAU,CAAC,EAAE,UAAU;YAE3E,wCAAwC;YACxC,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,sIAAQ,CAAC,OAAO,CAChD,IAAI,CAAC,QACL,MAAM,CAAC,UAAU,MAAM;gBACpB,cAAc;gBACd,QAAQ;YACZ;YAEJ,IAAI,aAAa,MAAM;YAEvB,0CAA0C;YAC1C,IAAI,WAAW;gBACX,MAAM,UAAU;YACpB;YAEA,UAAU;gBAAE,MAAM;gBAAW,KAAK;YAAwC;YAC1E,QAAQ;QAEZ,EAAE,OAAO,KAAU;YACf,UAAU;gBAAE,MAAM;gBAAS,KAAK,CAAC,gBAAgB,EAAE,IAAI,OAAO,EAAE;YAAC;QACrE,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,MAAK;wBACL,WAAU;wBACV,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;wBAChD,UAAU;;;;;;kCAEd,6LAAC;wBAAI,WAAW,CAAC,sHAAsH,EAAE,OAC/H,2CACA,8DACJ;;0CACF,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,mNAAM;oCAAC,WAAW,CAAC,QAAQ,EAAE,OAAO,qBAAqB,iBAAiB;;;;;;;;;;;0CAE/E,6LAAC;gCAAE,WAAU;0CACR,OAAO,KAAK,IAAI,GAAG;;;;;;;;;;;;;;;;;;0BAMhC,6LAAC;gBACG,SAAS;gBACT,UAAU,CAAC,QAAQ;gBACnB,WAAU;0BAET,0BACG;;sCACI,6LAAC,+NAAO;4BAAC,WAAU;;;;;;wBAAyB;;mCAGhD;;;;;;YAIP,wBACG,6LAAC;gBAAI,WAAW,CAAC,+GAA+G,EAAE,OAAO,IAAI,KAAK,YAAY,6DAA6D,mDACrN;;oBACD,OAAO,IAAI,KAAK,0BAAY,6LAAC,wOAAY;wBAAC,WAAU;;;;;6CAAe,6LAAC,4OAAa;wBAAC,WAAU;;;;;;oBAC5F,OAAO,GAAG;;;;;;;;;;;;;AAK/B;GAlGwB;KAAA"}}]
}