{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/drizzle/db/schema.ts"],"sourcesContent":["// frontend/drizzle/db/schema.ts\nimport { pgTable, uuid, text, integer, timestamp, jsonb } from \"drizzle-orm/pg-core\";\n\nexport const courses = pgTable(\"courses\", {\n    id: uuid(\"id\").defaultRandom().primaryKey(),\n    name: text(\"name\").notNull(),\n    description: text(\"description\"),\n    // Stores the AI-calculated overall average\n    currentGrade: integer(\"current_grade\").default(0),\n    // Stores the syllabus weights (e.g., [{\"name\": \"Midterm\", \"weight\": 20, \"score\": 85}])\n    milestones: jsonb(\"milestones\").default([]),\n    createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const submissions = pgTable(\"submissions\", {\n    id: uuid(\"id\").defaultRandom().primaryKey(),\n    courseId: uuid(\"course_id\").references(() => courses.id, { onDelete: 'cascade' }),\n    name: text(\"name\").notNull(),\n    // Stores the detailed error analysis\n    analysisReport: jsonb(\"analysis_report\").default([]),\n    createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n"],"names":[],"mappings":";;;;;;AAAA,gCAAgC;AAChC;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEO,MAAM,UAAU,IAAA,gKAAO,EAAC,WAAW;IACtC,IAAI,IAAA,uKAAI,EAAC,MAAM,aAAa,GAAG,UAAU;IACzC,MAAM,IAAA,uKAAI,EAAC,QAAQ,OAAO;IAC1B,aAAa,IAAA,uKAAI,EAAC;IAClB,2CAA2C;IAC3C,cAAc,IAAA,6KAAO,EAAC,iBAAiB,OAAO,CAAC;IAC/C,uFAAuF;IACvF,YAAY,IAAA,yKAAK,EAAC,cAAc,OAAO,CAAC,EAAE;IAC1C,WAAW,IAAA,iLAAS,EAAC,cAAc,UAAU,GAAG,OAAO;AAC3D;AAEO,MAAM,cAAc,IAAA,gKAAO,EAAC,eAAe;IAC9C,IAAI,IAAA,uKAAI,EAAC,MAAM,aAAa,GAAG,UAAU;IACzC,UAAU,IAAA,uKAAI,EAAC,aAAa,UAAU,CAAC,IAAM,QAAQ,EAAE,EAAE;QAAE,UAAU;IAAU;IAC/E,MAAM,IAAA,uKAAI,EAAC,QAAQ,OAAO;IAC1B,qCAAqC;IACrC,gBAAgB,IAAA,yKAAK,EAAC,mBAAmB,OAAO,CAAC,EAAE;IACnD,WAAW,IAAA,iLAAS,EAAC,cAAc,UAAU,GAAG,OAAO;AAC3D"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/drizzle/index.ts"],"sourcesContent":["// frontend/lib/db/index.ts\nimport { drizzle } from 'drizzle-orm/postgres-js';\nimport postgres from 'postgres';\nimport * as schema from './db/schema'; // Import everything from your schema file\n\nconst connectionString = process.env.DATABASE_URL!;\nconst client = postgres(connectionString);\n\n// Pass the schema here! This is what fixes the \"Property courses does not exist\" error.\nexport const db = drizzle(client, { schema });\n"],"names":[],"mappings":";;;;AAAA,2BAA2B;AAC3B;AACA;AACA,gNAAuC,0CAA0C;;;;AAEjF,MAAM,mBAAmB,QAAQ,GAAG,CAAC,YAAY;AACjD,MAAM,SAAS,IAAA,mJAAQ,EAAC;AAGjB,MAAM,KAAK,IAAA,qKAAO,EAAC,QAAQ;IAAE,QAAA;AAAO"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/GradeGauge.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const GradeGauge = registerClientReference(\n    function() { throw new Error(\"Attempted to call GradeGauge() from the server but GradeGauge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/GradeGauge.tsx <module evaluation>\",\n    \"GradeGauge\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,uDACA","ignoreList":[0]}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/GradeGauge.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const GradeGauge = registerClientReference(\n    function() { throw new Error(\"Attempted to call GradeGauge() from the server but GradeGauge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/GradeGauge.tsx\",\n    \"GradeGauge\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,mCACA","ignoreList":[0]}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/ProphetSidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProphetSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProphetSidebar() from the server but ProphetSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/ProphetSidebar.tsx <module evaluation>\",\n    \"ProphetSidebar\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,2DACA","ignoreList":[0]}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/ProphetSidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProphetSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProphetSidebar() from the server but ProphetSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/ProphetSidebar.tsx\",\n    \"ProphetSidebar\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,uCACA","ignoreList":[0]}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/AICard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AICard = registerClientReference(\n    function() { throw new Error(\"Attempted to call AICard() from the server but AICard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/AICard.tsx <module evaluation>\",\n    \"AICard\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,mDACA","ignoreList":[0]}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/AICard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AICard = registerClientReference(\n    function() { throw new Error(\"Attempted to call AICard() from the server but AICard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/AICard.tsx\",\n    \"AICard\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,+BACA","ignoreList":[0]}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/CreateSubmissionBtn.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/ui/CreateSubmissionBtn.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/CreateSubmissionBtn.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","ignoreList":[0]}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/CreateSubmissionBtn.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/ui/CreateSubmissionBtn.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/CreateSubmissionBtn.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","ignoreList":[0]}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/DeleteSyllabusBtn.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/ui/DeleteSyllabusBtn.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/DeleteSyllabusBtn.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","ignoreList":[0]}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/DeleteSyllabusBtn.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/ui/DeleteSyllabusBtn.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/DeleteSyllabusBtn.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4Q,GACzS,0CACA","ignoreList":[0]}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/FileUploader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/ui/FileUploader.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/FileUploader.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA2R,GACxT,yDACA","ignoreList":[0]}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/ui/FileUploader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/ui/FileUploader.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/ui/FileUploader.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAuQ,GACpS,qCACA","ignoreList":[0]}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/lib/actions.tsx"],"sourcesContent":["'use server'\n\nimport { db } from '../../drizzle/index';\nimport { courses, submissions } from '../../drizzle/db/schema';\nimport { eq } from 'drizzle-orm';\nimport { revalidatePath } from 'next/cache';\n\n/**\n * COURSE MANAGEMENT\n */\nexport async function createCourse(formData: FormData) {\n    const name = formData.get('courseName') as string;\n    await db.insert(courses).values({\n        name: name,\n        description: \"Course initialized for audit.\",\n        currentGrade: 0,\n        milestones: [],\n    });\n    revalidatePath('/');\n}\n\nexport async function deleteCourse(courseId: string) {\n    try {\n        await db.delete(courses).where(eq(courses.id, courseId));\n        revalidatePath('/');\n        return { success: true };\n    } catch (error) {\n        return { success: false };\n    }\n}\n\n/**\n * SYLLABUS AUTOMATION (The Roadmap)\n * Aligned with SyllabusRequest in api.py\n */\nexport async function processSyllabusAction(courseId: string, publicUrl: string) {\n    try {\n        const backendBase = process.env.BACKEND_URL || \"http://127.0.0.1:8000\";\n\n        const response = await fetch(`${backendBase}/process-syllabus`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                courseId: courseId,   //\n                syllabusUrl: publicUrl //\n            }),\n        });\n\n        if (!response.ok) throw new Error(\"Syllabus Audit Failed\");\n        const aiResult = await response.json();\n\n        // FIX: Only update milestones, explicitly reset grade to 0\n        await db.update(courses)\n            .set({\n                milestones: aiResult.milestones, //\n                currentGrade: 0, // Prevents accidental 82% during syllabus phase\n            })\n            .where(eq(courses.id, courseId));\n\n        // FOR VAULT\n        // 2. NEW: Log the Syllabus in the submissions table so it shows in the Vault\n        await db.insert(submissions).values({\n            courseId: courseId,\n            name: \"Official Course Syllabus\",\n            // We store the URL in a JSON field if you want easy access later\n            analysisReport: [{ type: \"syllabus\", url: publicUrl }]\n        });\n\n        revalidatePath(`/course/${courseId}`);\n        return { success: true };\n    } catch (error) {\n        console.error(\"Syllabus Error:\", error);\n        return { success: false, error: \"Sync Failed\" };\n    }\n}\n\n/**\n * SUBMISSION AUTOMATION (The Performance)\n * Aligned with AnalysisRequest in api.py\n */\nexport async function createSubmissionAction(courseId: string, pdfUrl: string) {\n    try {\n        const backendBase = process.env.BACKEND_URL || \"http://127.0.0.1:8000\";\n\n        // 1. Fetch current context for the weighted grade calculation\n        const course = await db.query.courses.findFirst({\n            where: eq(courses.id, courseId)\n        });\n\n        // 2. Trigger Midterm Analysis\n        const response = await fetch(`${backendBase}/analyze-submission`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                submissionUrl: pdfUrl, //\n                existingMilestones: course?.milestones || [] //\n            }),\n        });\n\n        if (!response.ok) throw new Error(\"Neural Analysis fetch failed\");\n        const auditResults = await response.json();\n\n        // 3. Update the Course (This sets the 82% Grade)\n        // Maps Python 'updated_current_grade' to DB 'currentGrade'\n        await db.update(courses)\n            .set({\n                currentGrade: Math.round(auditResults.updated_current_grade || 0), // Schema is integer\n                milestones: auditResults.full_history, //\n            })\n            .where(eq(courses.id, courseId));\n\n        // 4. Create the Submission Record (Stores KCL/Diode tips)\n        // Maps Python 'analysis_report' to DB 'analysisReport'\n        const [newRecord] = await db.insert(submissions).values({\n            courseId: courseId,\n            name: `Audit: ${new Date().toLocaleDateString()}`,\n            analysisReport: auditResults.analysis_report,\n        }).returning({ id: submissions.id });\n\n        revalidatePath(`/course/${courseId}`);\n        revalidatePath('/');\n\n        return { id: newRecord.id, success: true };\n    } catch (error) {\n        console.error(\"Submission Action Failure:\", error);\n        return { success: false, error: \"Database or API sync error\" };\n    }\n}\n\n/**\n * DATA RESET & MAINTENANCE\n */\nexport async function deleteSyllabusAction(courseId: string) {\n    try {\n        await db.update(courses)\n            .set({\n                milestones: null,\n                currentGrade: 0\n            })\n            .where(eq(courses.id, courseId));\n\n        revalidatePath(`/course/${courseId}`);\n        return { success: true };\n    } catch (error) {\n        return { success: false, error: \"Failed to reset sector\" };\n    }\n}\n\nexport async function deleteSubmissionAction(submissionId: string, courseId: string) {\n    await db.delete(submissions).where(eq(submissions.id, submissionId));\n    revalidatePath(`/course/${courseId}`);\n}\n\nexport async function purgeCourseTelemetry(courseId: string) {\n    await db.update(courses)\n        .set({\n            milestones: null,\n            currentGrade: 0\n        })\n        .where(eq(courses.id, courseId));\n\n    revalidatePath(`/course/${courseId}`);\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;;;;;;;AAKO,eAAe,aAAa,QAAkB;IACjD,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,MAAM,sHAAE,CAAC,MAAM,CAAC,kIAAO,EAAE,MAAM,CAAC;QAC5B,MAAM;QACN,aAAa;QACb,cAAc;QACd,YAAY,EAAE;IAClB;IACA,IAAA,+IAAc,EAAC;AACnB;AAEO,eAAe,aAAa,QAAgB;IAC/C,IAAI;QACA,MAAM,sHAAE,CAAC,MAAM,CAAC,kIAAO,EAAE,KAAK,CAAC,IAAA,wKAAE,EAAC,kIAAO,CAAC,EAAE,EAAE;QAC9C,IAAA,+IAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IAC3B,EAAE,OAAO,OAAO;QACZ,OAAO;YAAE,SAAS;QAAM;IAC5B;AACJ;AAMO,eAAe,sBAAsB,QAAgB,EAAE,SAAiB;IAC3E,IAAI;QACA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;QAE/C,MAAM,WAAW,MAAM,MAAM,GAAG,YAAY,iBAAiB,CAAC,EAAE;YAC5D,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACjB,UAAU;gBACV,aAAa,UAAU,EAAE;YAC7B;QACJ;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;QAClC,MAAM,WAAW,MAAM,SAAS,IAAI;QAEpC,2DAA2D;QAC3D,MAAM,sHAAE,CAAC,MAAM,CAAC,kIAAO,EAClB,GAAG,CAAC;YACD,YAAY,SAAS,UAAU;YAC/B,cAAc;QAClB,GACC,KAAK,CAAC,IAAA,wKAAE,EAAC,kIAAO,CAAC,EAAE,EAAE;QAE1B,YAAY;QACZ,6EAA6E;QAC7E,MAAM,sHAAE,CAAC,MAAM,CAAC,sIAAW,EAAE,MAAM,CAAC;YAChC,UAAU;YACV,MAAM;YACN,iEAAiE;YACjE,gBAAgB;gBAAC;oBAAE,MAAM;oBAAY,KAAK;gBAAU;aAAE;QAC1D;QAEA,IAAA,+IAAc,EAAC,CAAC,QAAQ,EAAE,UAAU;QACpC,OAAO;YAAE,SAAS;QAAK;IAC3B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO;YAAE,SAAS;YAAO,OAAO;QAAc;IAClD;AACJ;AAMO,eAAe,uBAAuB,QAAgB,EAAE,MAAc;IACzE,IAAI;QACA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;QAE/C,8DAA8D;QAC9D,MAAM,SAAS,MAAM,sHAAE,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;YAC5C,OAAO,IAAA,wKAAE,EAAC,kIAAO,CAAC,EAAE,EAAE;QAC1B;QAEA,8BAA8B;QAC9B,MAAM,WAAW,MAAM,MAAM,GAAG,YAAY,mBAAmB,CAAC,EAAE;YAC9D,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACjB,eAAe;gBACf,oBAAoB,QAAQ,cAAc,EAAE,CAAC,EAAE;YACnD;QACJ;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;QAClC,MAAM,eAAe,MAAM,SAAS,IAAI;QAExC,iDAAiD;QACjD,2DAA2D;QAC3D,MAAM,sHAAE,CAAC,MAAM,CAAC,kIAAO,EAClB,GAAG,CAAC;YACD,cAAc,KAAK,KAAK,CAAC,aAAa,qBAAqB,IAAI;YAC/D,YAAY,aAAa,YAAY;QACzC,GACC,KAAK,CAAC,IAAA,wKAAE,EAAC,kIAAO,CAAC,EAAE,EAAE;QAE1B,0DAA0D;QAC1D,uDAAuD;QACvD,MAAM,CAAC,UAAU,GAAG,MAAM,sHAAE,CAAC,MAAM,CAAC,sIAAW,EAAE,MAAM,CAAC;YACpD,UAAU;YACV,MAAM,CAAC,OAAO,EAAE,IAAI,OAAO,kBAAkB,IAAI;YACjD,gBAAgB,aAAa,eAAe;QAChD,GAAG,SAAS,CAAC;YAAE,IAAI,sIAAW,CAAC,EAAE;QAAC;QAElC,IAAA,+IAAc,EAAC,CAAC,QAAQ,EAAE,UAAU;QACpC,IAAA,+IAAc,EAAC;QAEf,OAAO;YAAE,IAAI,UAAU,EAAE;YAAE,SAAS;QAAK;IAC7C,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO;YAAE,SAAS;YAAO,OAAO;QAA6B;IACjE;AACJ;AAKO,eAAe,qBAAqB,QAAgB;IACvD,IAAI;QACA,MAAM,sHAAE,CAAC,MAAM,CAAC,kIAAO,EAClB,GAAG,CAAC;YACD,YAAY;YACZ,cAAc;QAClB,GACC,KAAK,CAAC,IAAA,wKAAE,EAAC,kIAAO,CAAC,EAAE,EAAE;QAE1B,IAAA,+IAAc,EAAC,CAAC,QAAQ,EAAE,UAAU;QACpC,OAAO;YAAE,SAAS;QAAK;IAC3B,EAAE,OAAO,OAAO;QACZ,OAAO;YAAE,SAAS;YAAO,OAAO;QAAyB;IAC7D;AACJ;AAEO,eAAe,uBAAuB,YAAoB,EAAE,QAAgB;IAC/E,MAAM,sHAAE,CAAC,MAAM,CAAC,sIAAW,EAAE,KAAK,CAAC,IAAA,wKAAE,EAAC,sIAAW,CAAC,EAAE,EAAE;IACtD,IAAA,+IAAc,EAAC,CAAC,QAAQ,EAAE,UAAU;AACxC;AAEO,eAAe,qBAAqB,QAAgB;IACvD,MAAM,sHAAE,CAAC,MAAM,CAAC,kIAAO,EAClB,GAAG,CAAC;QACD,YAAY;QACZ,cAAc;IAClB,GACC,KAAK,CAAC,IAAA,wKAAE,EAAC,kIAAO,CAAC,EAAE,EAAE;IAE1B,IAAA,+IAAc,EAAC,CAAC,QAAQ,EAAE,UAAU;AACxC;;;IAxJsB;IAWA;IAcA;IA6CA;IAoDA;IAgBA;IAKA;;AA/IA,+OAAA;AAWA,+OAAA;AAcA,+OAAA;AA6CA,+OAAA;AAoDA,+OAAA;AAgBA,+OAAA;AAKA,+OAAA"}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/app/course/%5Bid%5D/page.tsx"],"sourcesContent":["import { db } from '@/drizzle/index';\nimport { courses, submissions } from '@/drizzle/db/schema';\nimport { eq, desc } from 'drizzle-orm';\nimport { notFound } from 'next/navigation';\nimport { GradeGauge } from '@/app/ui/GradeGauge';\nimport { ProphetSidebar } from '@/app/ui/ProphetSidebar';\nimport { AICard } from '@/app/ui/AICard';\nimport CreateSubmissionBtn from '@/app/ui/CreateSubmissionBtn';\nimport DeleteSyllabusBtn from '@/app/ui/DeleteSyllabusBtn';\nimport FileUploader from '@/app/ui/FileUploader';\nimport { processSyllabusAction } from '@/app/lib/actions';\n\nexport default async function CourseDetailPage({ params }: { params: { id: string } }) {\n    const { id } = await params;\n\n    // 1. Fetch Course and latest Submissions\n    const course = await db.query.courses.findFirst({\n        where: eq(courses.id, id),\n    });\n\n    const allSubmissions = await db.query.submissions.findMany({\n        where: eq(submissions.courseId, id),\n        orderBy: [desc(submissions.createdAt)],\n    });\n\n    if (!course) notFound();\n\n    const latestSubmission = allSubmissions[0];\n    const milestones = (course.milestones as any[]) || [];\n    const currentGrade = course.currentGrade || 0;\n\n    return (\n        <div className=\"flex h-screen bg-[#020617] text-white overflow-hidden\">\n            {/* LEFT: Neural Analysis Feed */}\n            <main className=\"flex-1 overflow-y-auto p-12 custom-scrollbar\">\n                <header className=\"flex justify-between items-start mb-12\">\n                    <div>\n                        <h1 className=\"text-5xl font-black tracking-tighter uppercase italic text-white mb-2\">\n                            {course.name}\n                        </h1>\n                        <p className=\"text-white/40 text-xs font-mono tracking-widest uppercase\">\n                            Sector: ECE231 // Node: {id.slice(0, 8)}\n                        </p>\n                    </div>\n                    <div className=\"flex gap-4\">\n                        <DeleteSyllabusBtn courseId={id} />\n                        <CreateSubmissionBtn courseId={id} userId=\"system-user\" />\n                    </div>\n                </header>\n\n                {/* 2. SYLLABUS INITIALIZATION: Only show if no milestones exist */}\n                {milestones.length === 0 ? (\n                    <div className=\"flex flex-col items-center justify-center h-[50vh] border-2 border-dashed border-white/10 rounded-[3rem] bg-white/[0.02]\">\n                        <h3 className=\"text-xl font-black uppercase tracking-widest mb-6\">Initialize Neural Roadmap</h3>\n                        <FileUploader\n                            bucket=\"uofthacks-2026\"\n                            userID=\"system-user\"\n                            courseID={id}\n                            folder=\"syllabus_files\"\n                            onSuccess={async (path) => {\n                                'use server';\n                                await processSyllabusAction(id, path);\n                            }}\n                        />\n                    </div>\n                ) : (\n                    <div className=\"space-y-8\">\n                        <GradeGauge currentGrade={currentGrade} />\n\n                        <div className=\"space-y-6\">\n                            <h2 className=\"text-xs font-black uppercase tracking-[0.4em] text-white/20\">Neural Guidance Feed</h2>\n                            {/* 3. Display KCL/Diode AI Cards from Python Report */}\n                            {latestSubmission?.analysisReport?.map((item: any, idx: number) => (\n                                <AICard\n                                    key={idx}\n                                    questionNumber={item.question_number}\n                                    detectedMistake={item.detected_error}\n                                    aiTip={item.study_tip}\n                                    unitId={item.unit_id}\n                                    delay={idx * 0.1}\n                                />\n                            ))}\n                        </div>\n                    </div>\n                )}\n            </main>\n\n            {/* RIGHT: Prophet Sidebar (Resonance & Chronology) */}\n            <aside className=\"w-[400px]\">\n                <ProphetSidebar\n                    milestones={milestones}\n                    currentGrade={currentGrade}\n                />\n            </aside>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;;;;;;+HAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;MAiDuC,uCAAX,kCAAkB;;IAEd,MAAM,IAAA,+IAAqB,kBAAK;AACpC;AAHW,+OAAA;AA/CxB,eAAe,iBAAiB,EAAE,MAAM,EAA8B;IACjF,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IAErB,yCAAyC;IACzC,MAAM,SAAS,MAAM,sHAAE,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;QAC5C,OAAO,IAAA,wKAAE,EAAC,kIAAO,CAAC,EAAE,EAAE;IAC1B;IAEA,MAAM,iBAAiB,MAAM,sHAAE,CAAC,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;QACvD,OAAO,IAAA,wKAAE,EAAC,sIAAW,CAAC,QAAQ,EAAE;QAChC,SAAS;YAAC,IAAA,sKAAI,EAAC,sIAAW,CAAC,SAAS;SAAE;IAC1C;IAEA,IAAI,CAAC,QAAQ,IAAA,iMAAQ;IAErB,MAAM,mBAAmB,cAAc,CAAC,EAAE;IAC1C,MAAM,aAAa,AAAC,OAAO,UAAU,IAAc,EAAE;IACrD,MAAM,eAAe,OAAO,YAAY,IAAI;IAE5C,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAK,WAAU;;kCACZ,8OAAC;wBAAO,WAAU;;0CACd,8OAAC;;kDACG,8OAAC;wCAAG,WAAU;kDACT,OAAO,IAAI;;;;;;kDAEhB,8OAAC;wCAAE,WAAU;;4CAA4D;4CAC5C,GAAG,KAAK,CAAC,GAAG;;;;;;;;;;;;;0CAG7C,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,0IAAiB;wCAAC,UAAU;;;;;;kDAC7B,8OAAC,4IAAmB;wCAAC,UAAU;wCAAI,QAAO;;;;;;;;;;;;;;;;;;oBAKjD,WAAW,MAAM,KAAK,kBACnB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;0CAAoD;;;;;;0CAClE,8OAAC,qIAAY;gCACT,QAAO;gCACP,QAAO;gCACP,UAAU;gCACV,QAAO;gCACP,SAAS,EAAE;;;;;;;;;;;6CAOnB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,sIAAU;gCAAC,cAAc;;;;;;0CAE1B,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAA8D;;;;;;oCAE3E,kBAAkB,gBAAgB,IAAI,CAAC,MAAW,oBAC/C,8OAAC,8HAAM;4CAEH,gBAAgB,KAAK,eAAe;4CACpC,iBAAiB,KAAK,cAAc;4CACpC,OAAO,KAAK,SAAS;4CACrB,QAAQ,KAAK,OAAO;4CACpB,OAAO,MAAM;2CALR;;;;;;;;;;;;;;;;;;;;;;;0BAc7B,8OAAC;gBAAM,WAAU;0BACb,cAAA,8OAAC,8IAAc;oBACX,YAAY;oBACZ,cAAc;;;;;;;;;;;;;;;;;AAKlC"}},
    {"offset": {"line": 739, "column": 0}, "map": {"version":3,"sources":["file:///Users/shrut/Desktop/Hackathon/UofTHacks%20-%20Jan%202026/UofTHacks26/frontend/.next-internal/server/app/course/%5Bid%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '600ec9cef3bdac35cdc64ea5b4ba23e8097a0f75cc'} from 'ACTIONS_MODULE0'\nexport {deleteCourse as '4049dc195d11c3ec7e0b2d07dec0c17012610457bf'} from 'ACTIONS_MODULE1'\nexport {deleteSyllabusAction as '40678f240068f6f6c363a1aa35826d6066f1e84e30'} from 'ACTIONS_MODULE1'\nexport {purgeCourseTelemetry as '406991cb34bb3100160a679d0fd69c0886f1f20692'} from 'ACTIONS_MODULE1'\nexport {createCourse as '408d9bdea2033f571d595acc2cccd0e3de705e47b4'} from 'ACTIONS_MODULE1'\nexport {createSubmissionAction as '606ee2ea97d933cd7dab137a27865382582e966ef6'} from 'ACTIONS_MODULE1'\nexport {deleteSubmissionAction as '609e743dda48a3db35be26af84eb99661eb8c90619'} from 'ACTIONS_MODULE1'\nexport {processSyllabusAction as '60a1314cb003c5d47c5dc2ca9538f3b5391d7b3678'} from 'ACTIONS_MODULE1'\nexport {createSubmissionAction as '606ee2ea97d933cd7dab137a27865382582e966ef6'} from 'ACTIONS_MODULE1'\nexport {deleteSyllabusAction as '40678f240068f6f6c363a1aa35826d6066f1e84e30'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}}]
}